<!--
title: Installation
description: 
published: true
date: 2023-02-15T17:42:20.369Z
tags: 
editor: ckeditor
dateCreated: 2021-05-24T10:37:11.632Z
-->

<figure class="image image_resized" style="width:44.15%;"><img src="https://static.centreon.com/wp-content/uploads/2019/10/Centreon_Logo_RVB_HD_Cut.png?x55598" alt="Centreon | Supervision Informatique : Infrastuctures Hybrides, Cloud, AIOps">
  <figcaption><strong>Auteur : Antoine JOVELIN</strong><br><strong>Admin Système Réseau - 49100 Angers</strong><br><strong>Source :</strong> <a href="https://wiki.jovelinantoine.fr/">wiki.jovelinantoine.fr</a></figcaption>
</figure>
<h1>Téléchargement de l’ISO</h1>
<p>Il faut d’abord commencer par télécharger l’ISO de Centreon.<br>Les différentes versions sont disponibles à l’adresse suivante&nbsp;:</p>
<p><a href="https://download.centreon.com/">https://download.centreon.com/</a></p>
<p>Lors de l’écriture de cette documentation, la dernière version en date était «&nbsp;centreon-3.4.6.el7.x86_64&nbsp;»<br>C’est celle-ci qui sera utilisée</p>
<h1>Installation de l’ISO</h1>
<p>Selon l’installation sur un serveur physique ou virtuel, il faudra soit créer un live CD soit utiliser directement l’iso pour effectuer l’installation.<br>Lors du démarrage, choisir «&nbsp;installer CentOS 7&nbsp;»</p>
<figure class="image"><img src="/install_centreon-1.png"></figure>
<p>Puis cliquer sur entrer.</p>
<figure class="image"><img src="/install_centreon-2.png"></figure>
<p>L’installation se lance</p>
<figure class="image"><img src="/install_centreon-3.png"></figure>
<p>Une fois l’installation terminée les différentes options de configuration apparaissent&nbsp;<br>Choisir la langue puis cliquer sur continuer</p>
<figure class="image"><img src="/images/install_centreon-4.png"></figure>
<p>A ce stade il est normal qu’en haut à droite le clavier soit indiqué comme étant «&nbsp;US&nbsp;». Il sera à modifier par la suite.<br>Le menu de configuration apparaît</p>
<figure class="image"><img src="/images/install_centreon-5.png"></figure>
<p>Cliquer sur «&nbsp;Centreon&nbsp;» et choisir le type d’installation que l’on souhaite effectuer&nbsp;et cliquer sur terminer&nbsp;:</p>
<figure class="image"><img src="/images/install_centreon-6.png"></figure>
<ul>
  <li>Central with database : Installe Centreon (interface web + base de données) ainsi que l’ordonnanceur et le broker</li>
  <li>Central without database : Installe Centreon (interface web uniquement) ainsi que l’ordonnanceur et le broker</li>
  <li>Poller : Installe le serveur satellite (ordonnanceur et broker uniquement)</li>
  <li>Database only : Installe le serveur de base de données (utilisé en complément avec l’option Central server without database)</li>
</ul>
<p>Pour cet exemple, nous allons installer «&nbsp;Central with database&nbsp;»<br>Cliquer sur le clavier pour choisir le type de clavier utilisé.<br>Cliquer sur le «&nbsp;+&nbsp;» et ajouter Français puis cliquer sur le «&nbsp;-&nbsp;» pour supprimer Français variante puis cliquer sur terminer</p>
<figure class="image"><img src="/images/install_centreon-7.png"></figure>
<p>Cliquer sur «&nbsp;Date et Heure&nbsp;» pour choisir le fuseau et cliquer sur terminer</p>
<figure class="image"><img src="/images/install_centreon-8.png"></figure>
<p>Activer ou ajouter des serveurs NTP</p>
<figure class="image image_resized" style="width:22.04%;"><img src="/images/install_centreon-9.png"></figure>
<p>Cliquer sur «&nbsp;destination de l’installation&nbsp;»<br>Cette étape permet de choisir le type de partitionnement souhaité&nbsp;:&nbsp;</p>
<ul>
  <li>Automatique</li>
  <li>Manuel</li>
  <li>Libérer de l’espace</li>
</ul>
<p>Cliquer sur «&nbsp;je vais configurer le partitionnement&nbsp;» puis sur terminer</p>
<figure class="image"><img src="/images/install_centreon-10.png"></figure>
<p>A l’aide du bouton «&nbsp;+&nbsp;» créer le partitionnement</p>
<figure class="image"><img src="/images/install_centreon-11.png"></figure>
<figure class="image"><img src="/images/install_centreon-12.png"></figure>
<p>Il est conseillé de suivre les <a href="https://documentation-fr.centreon.com/docs/centreon/fr/2.8.x/installation/prerequisites.html#diskspace"><i>prérequis de la documentation</i></a><br>Lorsque c’est fait cliquer sur terminer</p>
<figure class="image"><img src="/images/install_centreon-13.png"></figure>
<p>Une fenêtre de confirmation des modifications va apparaître. Cliquer sur accepter les modifications&nbsp;pour valider le partitionnement</p>
<figure class="image"><img src="/images/install_centreon-14.png"></figure>
<p>Cliquer sur Nom d’hôte et réseau</p>
<figure class="image"><img src="/images/install_centreon-15.png"></figure>
<p>Configurer les paramètres réseau et le nom de l’hôte Puis cliquer sur terminer</p>
<figure class="image"><img src="/images/install_centreon-16.png"></figure>
<p>Tous les paramètres étant définis, cliquer sur commencer l’installation en bas à droite</p>
<figure class="image"><img src="/images/install_centreon-17.png"></figure>
<p>Pendant l’installation il sera demandé de renseigner le mot de passe de l’administrateur dont le login est <strong>root</strong></p>
<figure class="image"><img src="/images/install_centreon-18.png"></figure>
<p>Il sera également demandé de créer un utilisateur avec login + mot de passe</p>
<figure class="image"><img src="/images/install_centreon-19.png"></figure>
<p>Cliquer sur terminer et attendre la fin de l’installation<br>Lorsque l’installation est terminée, cliquer sur redémarrer</p>
<figure class="image"><img src="/images/install_centreon-20.png"></figure>
<h1>Mise à jour du système d’exploitation</h1>
<p>Afin de mettre à jour le système d’exploitation il faut se connecter au serveur Centreon par SSH.</p>
<figure class="image"><img src="/images/putty.png"></figure>
<p>Pour cela, utiliser le logiciel PuTTY, disponible à cette adresse&nbsp;</p>
<p><a href="https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html">https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html</a></p>
<p>Une fois connecté taper la commande suivante&nbsp;:</p>
<pre><code class="language-plaintext">yum update</code></pre>
<p>&nbsp;</p>
<figure class="image"><img src="/images/update_centreon-1.png"></figure>
<p>Valider en tapant «&nbsp;y&nbsp;» (yes) à chaque fois que nécessaire</p>
<figure class="image"><img src="/images/update_centreon-2.png"></figure>
<p>Si ce n’est pas demandé après avoir effectué les mises à jour, il est recommandé de faire un redémarrage du serveur</p>
<pre><code class="language-plaintext">reboot</code></pre>
<h1>Configuration</h1>
<h2>L’Assistant de configuration de l’interface graphique</h2>
<p>Une fois l’installation du serveur Centreon terminée, il sera nécessaire de le configurer.<br>Pour cela, ouvrir un navigateur web et se connecter à cette adresse&nbsp;:<strong> http://«IP_DU_SERVEUR»/centreon</strong><br>Lors de la toute premier connexion, l’assistant de configuration de Centreon s’affiche. Cliquer sur suivant</p>
<figure class="image"><img src="/images/config_centreon-1.png"></figure>
<p>L’assistant vérifie la disponibilité des modules de Centreon<br>Cliquer sur suivant</p>
<figure class="image"><img src="/images/config_centreon-2.png"></figure>
<p>Cliquer sur suivant&nbsp;</p>
<figure class="image"><img src="/images/config_centreon-3.png"></figure>
<p>Cliquer sur suivant&nbsp;</p>
<figure class="image"><img src="/images/config_centreon-4.png"></figure>
<p>Configuration des informations concertant l’utilisateur administrateur.<br>Cliquer sur suivant.</p>
<figure class="image"><img src="/images/config_centreon-5.png"></figure>
<p>Configuration du serveur de base de données.<br>Le serveur sur lequel Centreon est installé est défini comme étant le serveur sur lequel la base de données sera installée par défaut.<br>Son utilisateur est <strong>root </strong>et <strong>le mot de passe par défaut est vide.</strong><br><strong>Le laisser vide sans rien écrire.</strong><br>Si l’on souhaite utiliser un serveur de base de données déporté, il faudra dans ce cas indiquer les informations de connexion au serveur (adresse, utilisateur mot de passe, etc.)</p>
<p>Cliquer sur suivant</p>
<figure class="image"><img src="/images/config_centreon-6.png"></figure>
<p><u>Attention, si le message d’erreur suivant apparaît :</u></p>
<p><i><strong>Add innodb_file_per_table=1 in my.cnf file under the [mysqld] section and restart MySQL Server.&nbsp;</strong></i></p>
<p>Faire cette manipulation pour le résoudre&nbsp;:&nbsp;<br>Se connecter en SSH avec l’utilisateur root sur le serveur.</p>
<p>Editer le fichier /etc/my.cnf</p>
<pre><code class="language-plaintext">vi /etc/my.cnf</code></pre>
<p>Ajouter cette ligne au fichier</p>
<pre><code class="language-plaintext">[mysqld]
innodb_file_per_table=1</code></pre>
<p>Redémarrez le service mysql</p>
<pre><code class="language-plaintext">service mysql restart</code></pre>
<p>Cliquez sur suivant.<br>L’assistant configure les bases de données.</p>
<figure class="image"><img src="/images/config_centreon-7.png"></figure>
<p>Une fenêtre d’information concernant les dernières nouveautés de Centreon va apparaître.<br>Cliquer sur terminer</p>
<figure class="image"><img src="/images/config_centreon-8.png"></figure>
<p>Il est maintenant possible de se connecter&nbsp;</p>
<figure class="image"><img src="/images/login_centreon-1.png"></figure>
<h2>Configurations de base</h2>
<p>Pour passer l’interface graphique en français il faut se connecter avec l’utilisateur root au serveur par SSH.<br>Dans un premier temps, installer le paquet de traduction en français à l’aide de la commande suivante&nbsp;:</p>
<pre><code class="language-plaintext">yum -y install centreon-lang-fr_FR</code></pre>
<p>&nbsp;</p>
<figure class="image"><img src="/images/config_centreon-9.png"></figure>
<p>Dans un deuxième temps, se connecter à l’interface graphique et cliquer sur Administration.<br>Dans la partie de gauche cliquer sur «&nbsp;Parameters&nbsp;» puis sur «&nbsp;My Account&nbsp;</p>
<figure class="image"><img src="/images/config_centreon-10.png"></figure>
<p>Dans le champ des langues remplacer «&nbsp;en_US&nbsp;» par «&nbsp;fr_FR.UTF-8&nbsp;». Une fois la page rafraichie, l’interface sera passée en français.<br>Cliquer sur sauvegarder.</p>
<figure class="image"><img src="/images/config_centreon-11.png"></figure>
<h2>Démarrer la supervision</h2>
<ul>
  <li>Générer les fichiers de configuration : Génère les fichiers de configuration de l’ordonnanceur dans un répertoire temporaire. Cette configuration est générée à partir des objets configurés via l’interface web</li>
  <li>Lancer le débogage du moteur de supervision (-v) : Permet à l’ordonnanceur de vérifier la configuration générée</li>
  <li>Déplacer les fichiers générés : Déplace les fichiers de configuration du répertoire temporaire vers le répertoire de l’ordonnanceur</li>
  <li>Redémarrer l’ordonnanceur : Redémarre l’ordonnanceur afin d’appliquer les nouveaux fichiers de configuration</li>
  <li>Commande exécutée post-génération : Exécute la commande post-génération paramétrée au niveau de la configuration de l’ordonnanceur</li>
</ul>
<h3>Première étape</h3>
<p>Pour démarrer la supervision il faut se rendre sur l‘interface graphique.<br>Dans le menu Configuration puis «&nbsp;collecteurs&nbsp;», tout laisser par défaut et cliquer sur exporter.</p>
<figure class="image"><img src="/images/config_centreon-12.png"></figure>
<p>Une nouvelle page apparait.</p>
<figure class="image"><img src="/images/config_centreon-13.png"></figure>
<p>Dans la partie «&nbsp;Collecteurs&nbsp;», sélectionner le serveur&nbsp;</p>
<figure class="image"><img src="/images/config_centreon-14.png"></figure>
<p>Vérifier que les cases «&nbsp;Générer les fichiers de configuration&nbsp;» et «&nbsp;Lancer le débogage du moteur de supervision (-v)&nbsp;» soient bien cochées. Vérifier que les cases «&nbsp;Déplacer les fichiers générés&nbsp;» ainsi que «&nbsp;Redémarrer l’ordonnanceur&nbsp;» soient bien décochées.<br>Cliquer à nouveau sur «&nbsp;Exporter&nbsp;».<br>Si tout s’est bien passé, les messages «&nbsp;ok&nbsp;» apparaissent. Dans le cas contraire il faudra corriger les erreurs</p>
<figure class="image"><img src="/images/config_centreon-15.png"></figure>
<h3>Deuxième étape</h3>
<p>Décochez les cases «&nbsp;Générer les fichiers de configuration&nbsp;» et «&nbsp;Lancer le débogage du moteur de supervision (-v)&nbsp;»<br>Cochez les cases «&nbsp;Déplacer les fichiers générés&nbsp;» ainsi que «&nbsp;Redémarrer l’ordonnanceur&nbsp;»</p>
<figure class="image"><img src="/images/config_centreon-16.png"></figure>
<p>Cliquez sur «&nbsp;Exporter&nbsp;» à nouveau<br>Si tout s’est bien passé, les messages «&nbsp;ok&nbsp;» apparaissent à nouveau. Dans le cas contraire il faudra corriger les erreurs</p>
<figure class="image"><img src="/images/config_centreon-17.png"></figure>
<h3>Troisième étape</h3>
<p>Se connecter avec l’utilisateur root au serveur par SSH.<br>Démarrer le composant Centreon Broker avec la commande suivante&nbsp;:</p>
<pre><code class="language-plaintext">service cbd start</code></pre>
<p>Démarrer Centreon Engine avec la commande suivante&nbsp;:</p>
<pre><code class="language-plaintext">service centengine start</code></pre>
<p>Démarrer centcore avec la commande suivante&nbsp;:</p>
<pre><code class="language-plaintext">service centcore start</code></pre>
<p>La supervision est maintenant opérationnelle.</p>
<figure class="image"><img src="/images/config_centreon-18.png"></figure>
<p><i><mark class="pen-red"><strong>Attention</strong>, la supervision est active mais pour l’instant <u>RIEN n’est supervisé</u>. En effet, il reste à configurer les sondes selon ce que l’on souhaite superviser. Il est également possible d’installer des add-on et des plugins qu’il faudra les configurer également.</mark></i></p>
<h1>Découverte de l’interface Web</h1>
<p>L’interface graphique de Centreon par l’intermédiaire de l’adresse <strong>http://«IP_DU_SERVEUR»/centreo</strong>n propose plusieurs menus avec des fonctions bien précises. Chacun de ces menus possède des sous sections.</p>
<figure class="image"><img src="/images/interface_centreon-1.png"></figure>
<ul>
  <li>Accueil&nbsp;: Premier écran d’accueil après connexion sur l’interface graphique. Résume l’état général de la supervision.</li>
  <li>Supervision&nbsp;: Regroupe l’état de tous les éléments supervisés en temps réel et en différé.</li>
  <li>Rapports&nbsp;: Permet de visualiser à l’aide de diagrammes et de graphiques l’évolution de la supervision sur une période ciblée.</li>
  <li>Configuration&nbsp;: Configure l’ensemble des éléments supervisés et l’infrastructure de supervision.</li>
  <li>Administration&nbsp;: Configure l’interface web de Centreon et permet de visualiser l’état général des serveurs.</li>
  <li>Vues&nbsp;: Visualiser et configurer les graphiques de performances pour chaque élément du système d’informations.</li>
</ul>
<h1>Pack de Plugins – Facilitation de la supervision</h1>
<p>Centreon est un excellent outil de supervision qui peut être configuré manuellement pour correspondre exactement aux différents besoins de l’entreprise. Toutefois, il existe des packs de plugins contenant des modèles de configuration.<br>Ces différents packs réduisent le temps nécessaire pour installer et superviser la plupart des services de l’entreprise.<br>Pour fonctionner, les composants techniques Centreon License Manager et Centreon Plugin Pack Manager sont nécessaires.<br>L’installation de ces deux paquets est très simple.<br>Il suffit de se connecter sur le serveur Centreon avec l’utilisateur root en SSH et de taper la commande suivante.</p>
<pre><code class="language-plaintext">yum install centreon-pp-manager</code></pre>
<p>Cette commande téléchargera Centreon Plugin Pack Manager et également Centreon License Manager en tant que dépendance.</p>
<p>Une fois ces deux paquets téléchargés il faudra les installer et les activer dans l’interface graphique de Centreon<br>Section Administration puis Extensions et enfin Modules.</p>
<figure class="image"><img src="/images/plugins_centreon-1.png"></figure>
<p>Le premier module à installer et activer sera Centreon License Manager</p>
<figure class="image"><img src="/images/plugins_centreon-2.png"></figure>
<p>Puis il faudra installer et activer Centreon Plugin Pack Manager</p>
<figure class="image"><img src="/images/plugins_centreon-3.png"></figure>
<p>Il est désormais possible de se rendre dans la section «&nbsp;Configuration&nbsp;» puis «&nbsp;Plugin packs&nbsp;» pour trouver les 6 plugins gratuits proposés. Si on s’inscrit sur le site de Centreon, 5 autres plugins packs deviennent gratuits, les autres étant payant.</p>
<p>Il existe plus de 150 plugins packs disponibles dans l’offre IMP.</p>
<figure class="image"><img src="/images/plugins_centreon-4.png"></figure>
<p>&nbsp;</p>
